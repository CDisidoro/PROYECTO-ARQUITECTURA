if (self.CavalryLogger) { CavalryLogger.start_js(["3cRAD"]); }

__d("FBRTCDismissReason",[],(function a(b,c,d,e,f,g){f.exports={CALL_ENDED:0,ANSWERED_ON_ANOTHER_DEVICE:1,IN_ANOTHER_CALL:2,CONNECTION_DROPPED:3,REJECTED_ON_ANOTHER_DEVICE:4,REMOVED_BY_PARTICIPANT:5,REJECTED_BY_CALLEE:6,INTERNAL_ERROR:7,JOIN_APPROVAL_DENIED:8}}),null);
__d("FBRTCHangupReason",[],(function a(b,c,d,e,f,g){f.exports={IGNORE_CALL:0,HANGUP_CALL:1,NO_ANSWER_TIMEOUT:2,CLIENT_ERROR:3,IN_ANOTHER_CALL:4,CLIENT_INTERRUPTED:5,SESSION_MIGRATED:6}}),null);
__d("FBRTCRtcResponseStatusCode",[],(function a(b,c,d,e,f,g){f.exports={OK:200,BAD_REQUEST:400,UNAUTHORIZED:401,NOT_FOUND:404,METHOD_NOT_ALLOWED:406,CONDITIONAL_REQUEST_FAILED:412,BUSY_HERE:486,SERVER_INTERNAL_ERROR:500,SERVICE_UNAVAILABLE:503,PRECONDITION_FAILURE:580}}),null);
__d("ChromeExtensionInstallError",[],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i,j=Object.freeze({CHROME_WEBSTORE_UNDEFINED:"CHROME_WEBSTORE_UNDEFINED",EXTENSION_INSTALL_FAILED:"EXTENSION_INSTALL_FAILED",EXTENSION_STORE_INSTALL_TIMEOUT:"EXTENSION_STORE_INSTALL_TIMEOUT"});h=babelHelpers.inherits(k,Error);i=h&&h.prototype;function k(l,m){i.constructor.call(this,l);this.message=l;this.$ChromeExtensionInstallError1=m;this.name=this.constructor.name}k.prototype.toString=function(){return this.name+": "+[this.message,this.$ChromeExtensionInstallError1].join("-")};k.types=j;f.exports=k}),null);
__d("CollabRTCChromeScreenSharingExtension",["invariant","Promise","ChromeExtensionInstallError","idx"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i="DIALOG_USER_CANCEL",j="EXTENSION_NOT_FOUND",k="REQUEST_ID_UNDEFINED",l="UNEXPECTED_ERROR",m="degmgkchmbgaognjjlhggmhbcpicdifm",n="data-fb-screensharing-extension-available",o=250,p=2*60*1e3,q=2;function r(){this.DIALOG_USER_CANCEL=i;this.EXTENSION_NOT_FOUND=j;this.EXTENSION_PRESENCE_ATTR=n;this.REQUEST_ID_UNDEFINED=k;this.UNEXPECTED_ERROR=l}r.prototype.isInstalled=function(){var x=document,y=x.documentElement;return y!=null&&y.hasAttribute(n)&&y.getAttribute(n)==="true"};r.prototype.$CollabRTCChromeScreenSharingExtension2=function(x){__p&&__p();var y,z=(y=x)!=null?(y=y.chrome)!=null?y.webstore:y:y;if(z==null)return c("Promise").reject(new(c("ChromeExtensionInstallError"))(c("ChromeExtensionInstallError").types.CHROME_WEBSTORE_UNDEFINED));var A=window.document.documentElement;s(this.getExtensionURL(),window.document);if(x!==window)s(this.getExtensionURL(),x.document);return new(c("Promise"))(function(B,C){z.install(this.getExtensionURL(),function(){if(A!=null)A.setAttribute(n,"true");B()},function(D,E){C(new(c("ChromeExtensionInstallError"))(c("ChromeExtensionInstallError").types.EXTENSION_INSTALL_FAILED,E))})}.bind(this)).then(function(){return this.$CollabRTCChromeScreenSharingExtension3(q)}.bind(this))};r.prototype.$CollabRTCChromeScreenSharingExtension4=function(){__p&&__p();var x;if(this.isInstalled())return c("Promise").resolve();s(this.getExtensionURL(),window.document);var y=(x=window)!=null?(x=x.chrome)!=null?x.webstore:x:x;if(y==null)return c("Promise").reject(new(c("ChromeExtensionInstallError"))(c("ChromeExtensionInstallError").types.CHROME_WEBSTORE_UNDEFINED));window.open(this.getExtensionURL(),"_blank");return this.$CollabRTCChromeScreenSharingExtension3(p/o).then(function(){var z=window.document.documentElement;z.setAttribute(n,"true")})["catch"](function(){throw new(c("ChromeExtensionInstallError"))(c("ChromeExtensionInstallError").types.EXTENSION_STORE_INSTALL_TIMEOUT)})};r.prototype.install=function(){__p&&__p();if(this.isInstalled())return c("Promise").resolve();if(window.opener){if(window.opener.closed)return this.$CollabRTCChromeScreenSharingExtension4();try{window.opener.document;return this.$CollabRTCChromeScreenSharingExtension2(window.opener)}catch(x){return this.$CollabRTCChromeScreenSharingExtension2(window)["catch"](function(){return this.$CollabRTCChromeScreenSharingExtension4()}.bind(this))}}return this.$CollabRTCChromeScreenSharingExtension2(window)};r.prototype.getSourceID=function(){if(!this.isInstalled())return c("Promise").reject(new Error(j));return u().then(function(x){switch(x.type){case"streamID":this.$CollabRTCChromeScreenSharingExtension1=x.requestID;return x.streamID;case"canceledGetStreamID":throw new Error(i);default:throw new Error(l)}}.bind(this))};r.prototype.getExtensionID=function(){return m};r.prototype.getExtensionURL=function(){return"https://chrome.google.com/webstore/detail/"+m};r.prototype.stop=function(){return v(this.$CollabRTCChromeScreenSharingExtension1).then(function(){this.$CollabRTCChromeScreenSharingExtension1=null}.bind(this))};r.prototype.$CollabRTCChromeScreenSharingExtension3=function(x){return w({type:"ping"})["catch"](function(y){if(x<1)throw y;return t(o).then(function(){return this.$CollabRTCChromeScreenSharingExtension3(x-1)}.bind(this))}.bind(this))};function s(x,y){var z="chrome-webstore-item";if(!y.querySelector('link[href="'+x+'"][rel="'+z+'"]')){var A=y.createElement("link");A.setAttribute("href",x);A.setAttribute("rel",z);y.head!=null||h(0);y.head.appendChild(A)}}function t(x){return new(c("Promise"))(function(y){return setTimeout(y,x)})}function u(){return w({type:"getStreamID",sources:["screen","window","tab"]})}function v(x){return w({type:"cancel",requestID:x})}function w(x){return new(c("Promise"))(function(y,z){window.chrome.runtime.sendMessage(m,x,function(A){if(A!=null)y(A);else{var B=window.chrome.runtime.lastError.message;z(new Error(B))}})})}f.exports=new r()}),null);
__d("CollabRTCChromeScreenSharing",["CollabRTCChromeScreenSharingExtension"],(function a(b,c,d,e,f,g){"use strict";var h={getSourceID:function i(){return c("CollabRTCChromeScreenSharingExtension").install().then(function(){return c("CollabRTCChromeScreenSharingExtension").getSourceID()})},stop:function i(){return c("CollabRTCChromeScreenSharingExtension").stop()}};f.exports=h}),null);
__d("FBRTCExperiment",["FBRTCExperimentsConfig","QE2Logger"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();h.gen=function(i){var j={params:{},auto_exposure:false,in_experiment:false},k=c("FBRTCExperimentsConfig")[i]||j,l=new h(i,k);return l};function h(i,j){this.$FBRTCExperiment1=i;this.$FBRTCExperiment2=j}h.prototype.$FBRTCExperiment3=function(){if(this.$FBRTCExperiment2.auto_exposure)this.logExposure()};h.prototype.logExposure=function(){if(this.$FBRTCExperiment2.in_experiment)c("QE2Logger").logExposureForUser(this.$FBRTCExperiment1)};h.prototype.getParam=function(i,j){if(this.$FBRTCExperiment2.params[i]!==undefined){this.$FBRTCExperiment3();return this.$FBRTCExperiment2.params[i].toString()}return j};h.prototype.getInt=function(i,j){if(this.$FBRTCExperiment2.params[i]!==undefined){this.$FBRTCExperiment3();return parseInt(this.$FBRTCExperiment2.params[i],10)}return j};h.prototype.getBool=function(i,j){var k=this.$FBRTCExperiment2.params;if(k[i]!==undefined){this.$FBRTCExperiment3();return k[i]==="1"||k[i]===1||k[i]==="true"||k[i]===true}return j};f.exports=h}),null);
__d("RTCEndCallReason",["fbt","FBRTCConstants","FBRTCDismissReason","FBRTCHangupReason","FBRTCRtcResponseStatusCode"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i=c("FBRTCConstants").CallEndReason,j=c("FBRTCConstants").CollabCallEndSubreason;function k(l){this.$RTCEndCallReason1=-1;this.$RTCEndCallReason3="local";if(typeof l==="string"||l instanceof String)this.$RTCEndCallReason1=i.strNames.indexOf(l);else this.$RTCEndCallReason1=l}k.prototype.setSubreason=function(l){this.$RTCEndCallReason2=l;return this};k.prototype.getSubreason=function(){return this.$RTCEndCallReason2};k.prototype.setRemoteEnded=function(l){this.$RTCEndCallReason3=l?"remote":"local";return this};k.prototype.getRemoteEnded=function(){return this.$RTCEndCallReason3==="remote"};k.prototype.toStrName=function(){var l=arguments.length<=0||arguments[0]===undefined?true:arguments[0];return l?this.$RTCEndCallReason4()+"_"+this.$RTCEndCallReason3:this.$RTCEndCallReason4()};k.prototype.$RTCEndCallReason4=function(){if(this.$RTCEndCallReason1<0||this.$RTCEndCallReason1>i.strNames.length)return"Unknown";return i.strNames[this.$RTCEndCallReason1]};k.prototype.getReasonID=function(){return this.$RTCEndCallReason1};k.prototype.toString=function(){var l=arguments.length<=0||arguments[0]===undefined?false:arguments[0],m=(this.$RTCEndCallReason5()||"").toString();return l?m+" "+this.$RTCEndCallReason6():m};k.prototype.$RTCEndCallReason5=function(){__p&&__p();switch(this.$RTCEndCallReason1){case i.NO_ANSWER_TIMEOUT:case i.IGNORE_CALL:return h._("Sin respuesta");case i.OTHER_NOT_CAPABLE:if(this.$RTCEndCallReason2===j.MCU_INVALID_STREAM_CONFIGURATION)return h._("Hay demasiados clientes conectados a la sala");case i.INCOMING_TIMEOUT:case i.NO_PERMISSION:case i.OTHER_CARRIER_BLOCKED:return h._("Inaccesible");case i.SIGNALING_MESSAGE_FAILED:case i.WEBRTC_ERROR:case i.NO_UI_ERROR:case i.CALLER_NOT_VISIBLE:case i.CLIENT_ERROR:return h._("Error al llamar");case i.UNSUPPORTED_VERSION:return h._("No se puede conectar la llamada");case i.IN_ANOTHER_CALL:return h._("En otra llamada");case i.CARRIER_BLOCKED:return h._("Activa la conexi\u00f3n por Wi-Fi para llamar");case i.CLIENT_INTERRUPTED:return h._("Llamada interrumpida");case i.HANGUP_CALL:case i.ACCEPT_AFTER_HANGUP:return h._("Llamada finalizada");case i.CONNECTION_DROPPED:return h._("Se ha perdido la conexi\u00f3n");case i.OTHER_INSTANCE_HANDLED:return null;default:return null}};k.prototype.$RTCEndCallReason6=function(){__p&&__p();if(this.$RTCEndCallReason1!==i.OTHER_NOT_CAPABLE&&this.$RTCEndCallReason1!==i.SIGNALING_MESSAGE_FAILED)return"";switch(this.$RTCEndCallReason2){case j.REMOTE_PEER_HANGUP:case j.REMOTE_PEER_REJECT:return"";case j.CLOSED_BY_MCU:return"- Call expired";case j.CLOSED_AS_STALE:return"- Server failed, call is stale";case j.CALL_INITIALIZATION_FAILED:return"- Call initialization to room failed";case j.SIP_CONNECTION_INITIALIZATION_FAILED:return"or No Answer";case j.LOST_MCU_CONNECTION:return"- MCU Media connection failed";case j.LOST_MCU_THRIFT_CONNECTION:return"- MCU infrastructure dropped connection";case j.LOST_SIP_ADAPTER_CONNECTION:return"- SIP infrastructure dropped connection";case j.MCU_NO_AUDIO_STREAM:return"- Invalid audio stream";case j.MCU_INVALID_STREAM_CONFIGURATION:return"- Invalid stream configuration";case j.UNKNOWN:default:return"- Unexpected call failure: "+(this.$RTCEndCallReason2||"null")}};k.fromHangupReason=function(l){switch(l){case c("FBRTCHangupReason").IGNORE_CALL:return new k(i.IGNORE_CALL);case c("FBRTCHangupReason").NO_ANSWER_TIMEOUT:return new k(i.NO_ANSWER_TIMEOUT);case c("FBRTCHangupReason").HANGUP_CALL:return new k(i.HANGUP_CALL);case c("FBRTCHangupReason").CLIENT_ERROR:return new k(i.CLIENT_ERROR);case c("FBRTCHangupReason").IN_ANOTHER_CALL:return new k(i.IN_ANOTHER_CALL);case c("FBRTCHangupReason").CLIENT_INTERRUPTED:return new k(i.CLIENT_INTERRUPTED);default:return new k(i.HANGUP_CALL)}};k.fromDismissRequest=function(l){__p&&__p();if(!l)return new k(i.HANGUP_CALL);switch(l.reason){case c("FBRTCDismissReason").ANSWERED_ON_ANOTHER_DEVICE:case c("FBRTCDismissReason").REJECTED_ON_ANOTHER_DEVICE:return new k(i.OTHER_INSTANCE_HANDLED);case c("FBRTCDismissReason").CALL_ENDED:return new k(i.HANGUP_CALL);case c("FBRTCDismissReason").IN_ANOTHER_CALL:return new k(i.IN_ANOTHER_CALL);case c("FBRTCDismissReason").CONNECTION_DROPPED:return new k(i.CONNECTION_DROPPED);case c("FBRTCDismissReason").REMOVED_BY_PARTICIPANT:return new k(i.HANGUP_CALL);case c("FBRTCDismissReason").REJECTED_BY_CALLEE:return new k(i.IGNORE_CALL);case c("FBRTCDismissReason").INTERNAL_ERROR:return new k(i.SIGNALING_MESSAGE_FAILED);default:return new k(i.HANGUP_CALL)}};k.fromResponseStatusCode=function(l){switch(l){case c("FBRTCRtcResponseStatusCode").PRECONDITION_FAILURE:case c("FBRTCRtcResponseStatusCode").METHOD_NOT_ALLOWED:case c("FBRTCRtcResponseStatusCode").UNAUTHORIZED:return new k(i.NO_PERMISSION);case c("FBRTCRtcResponseStatusCode").SERVICE_UNAVAILABLE:return new k(i.SIGNALING_MESSAGE_FAILED);case c("FBRTCRtcResponseStatusCode").SERVER_INTERNAL_ERROR:case c("FBRTCRtcResponseStatusCode").BAD_REQUEST:case c("FBRTCRtcResponseStatusCode").BUSY_HERE:case c("FBRTCRtcResponseStatusCode").CONDITIONAL_REQUEST_FAILED:case c("FBRTCRtcResponseStatusCode").NOT_FOUND:return new k(i.CLIENT_ERROR);default:return new k(i.HANGUP_CALL)}};f.exports=k}),null);
__d("RTCUserMediaConstraints",["FBRTCConstants","RTCConfig"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=c("FBRTCConstants").RTCConstraints,i=c("FBRTCConstants").VideoQuality,j={width:h.FHD_WIDTH,height:h.FHD_HEIGHT,frameRate:h.FRAME_RATE},k={width:h.HD_WIDTH,height:h.HD_HEIGHT,frameRate:h.FRAME_RATE},l={width:h.SD_WIDTH,height:h.SD_HEIGHT,frameRate:h.FRAME_RATE},m={width:h.LQ_WIDTH,height:h.LQ_HEIGHT,frameRate:h.LQ_FRAME_RATE},n={audio:function u(v){return v?{deviceId:v}:true},video:function u(v,w){var x=arguments.length<=2||arguments[2]===undefined?c("RTCConfig").CollaborationCallQuality.videoToRoom:arguments[2];if(v===i.NO_VIDEO)return false;var y=w?{deviceId:w}:null;if(v===i.CUSTOM_VIDEO)return babelHelpers["extends"]({},x,y);var z=o(v);return babelHelpers["extends"]({width:p(z,"width"),height:p(z,"height"),frameRate:p(z,"frameRate",{frameRate:10})},y)},chromeMediaSource:function u(v,w){var x=v.video,y=n.chromify(x);if(typeof y!=="object")return{audio:false,video:Boolean(y)};var z=y.mandatory,A=y.optional,B=A===undefined?[]:A;return{audio:false,video:{mandatory:babelHelpers["extends"]({},z,{chromeMediaSource:"desktop",chromeMediaSourceId:w}),optional:[{googTemporalLayeredScreencast:true}].concat(B)}}},chromify:function u(v){__p&&__p();var w=arguments.length<=1||arguments[1]===undefined?false:arguments[1];if(!v||typeof v!=="object")return Boolean(v);if(!t(v))return v;var x=v.mandatory,y=x===undefined?{}:x,z=v.optional,A=z===undefined?[]:z;for(var B=Object.entries(v),C=Array.isArray(B),D=0,B=C?B:B[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var E;if(C){if(D>=B.length)break;E=B[D++]}else{D=B.next();if(D.done)break;E=D.value}var F=E,G=F[0],H=F[1];if(G==="require"||G==="advanced"||G==="mediaSource")continue;var I=H&&typeof H==="object"?H:{ideal:H};if(Number.isFinite(I.exact)){I.min=I.exact;I.max=I.exact}var J=I.ideal,K=I.exact;if(J!==undefined)if(Number.isFinite(J)){var L,M;A.push((L={},L[s(G,"min")]=J,L),(M={},M[s(G,"max")]=J,M))}else{var N;A.push((N={},N[s(G)]=J,N))}if(!w)if(K!==undefined&&!Number.isFinite(K))y[s(G)]=K;else{var O=["min","max"];for(var P=0;P<O.length;P++){var Q=O[P];if(Number.isFinite(I[Q]))y[s(G,Q)]=I[Q]}}}if(v.advanced)A.push.apply(A,v.advanced);var R={};if(Object.keys(y).length>0)R.mandatory=y;else if(w)R.mandatory={};if(A.length>0)R.optional=A;return R}};function o(u){switch(u){case i.FHD_VIDEO:return j;case i.HD_VIDEO:return k;case i.LQ_VIDEO:return m;case i.SD_VIDEO:return l;default:return k}}function p(u,v){var w=arguments.length<=2||arguments[2]===undefined?q(u):arguments[2],x=u[v];return{min:Math.min(w[v],x),max:Math.max(r(u)[v],x),ideal:x}}function q(u){switch(u){case j:return k;case k:return l;case l:case m:default:return m}}function r(u){switch(u){case m:return l;case l:return k;case k:case j:default:return j}}function s(u,s){if(s)return""+s+u.charAt(0).toUpperCase()+u.slice(1);return u==="deviceId"?"sourceId":u}function t(u){return Object.keys(u).some(function(v){return v!=="mandatory"&&v!=="optional"})}f.exports=n}),null);
__d("MediaStream",[],(function a(b,c,d,e,f,g){f.exports=window.MediaStream||window.webkitMediaStream}),null);
__d("RTCAudioTrackNoiseDetector",["invariant","Promise","MediaStream"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i="audio track with absolute silence",j="audio track data timeout",k='wrong track type, expected "audio"',l=100,m={ABSOLUTE_SILENCE_ERROR:i,DATA_TIMEOUT_ERROR:j,WRONG_TRACK_TYPE_ERROR:k,detect:function n(o,p){__p&&__p();if("kind"in o&&o.kind!=="audio")return c("Promise").reject(new Error(k));var q=new(c("MediaStream"))();q.addTrack(o);var r=new AudioContext(),s=r.createMediaStreamSource(q),t=r.createScriptProcessor(0,1,1),u=l,v=function v(){__p&&__p();t!=null||h(0);t.onaudioprocess=null;t.disconnect();t=null;s!=null||h(0);s.disconnect();s=null;q!=null||h(0);q.removeTrack(o);q=null;r!=null||h(0);return c("Promise").resolve(r.close())["catch"](function(){return c("Promise").resolve()}).then(function(){r=null})};return c("Promise").race([new(c("Promise"))(function(w,x){__p&&__p();t!=null||h(0);t.onaudioprocess=function(y){__p&&__p();var z=y.inputBuffer;for(var A=z.getChannelData(0),B=Array.isArray(A),C=0,A=B?A:A[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var D;if(B){if(C>=A.length)break;D=A[C++]}else{C=A.next();if(C.done)break;D=C.value}var E=D;if(E!==0){w();return}}if(u>0)u--;else x(new Error(i))};s!=null||h(0);s.connect(t);r!=null||h(0);t.connect(r.destination)}),new(c("Promise"))(function(w){return setTimeout(w,p)}).then(function(){throw new Error(j)})]).then(function(){return v()})["catch"](function(w){return v().then(function(){throw w})})}};f.exports=m}),null);
__d("RTCVideoTrackActivityDetector",["invariant","Promise","MediaStream"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i=window.URL||window.webkitURL,j=HTMLMediaElement&&"srcObject"in HTMLMediaElement.prototype,k="video track playback timeout",l="unexpected video track ready state",m='wrong track type, expected "video"',n={PLAYBACK_TIMEOUT_ERROR:k,WRONG_READY_STATE_ERROR:l,WRONG_TRACK_TYPE_ERROR:m,detect:function o(p,q){__p&&__p();if("kind"in p&&p.kind!=="video")return c("Promise").reject(new Error(m));var r=document.createElement("video");r.muted=true;var s=new(c("MediaStream"))();s.addTrack(p);var t=void 0,u=null,v=function v(){__p&&__p();clearInterval(u);if(r){r.pause();if(j)r.srcObject=null;else if(r.src){i.revokeObjectURL(r.src);r.src=""}r.removeEventListener("timeupdate",t);r=null}if(s){s.removeTrack(p);s=null}};return c("Promise").race([new(c("Promise"))(function(w,x){__p&&__p();r!=null||h(0);if(j)r.srcObject=s;else r.src=i.createObjectURL(s);t=function t(y){r!=null||h(0);if(r.currentTime>0)if(p.readyState==="live"){w();v()}else x(new Error(l))};c("Promise").resolve(r.pause()).then(function(){r!=null||h(0);return r.play()}).then(function(){t();r!=null||h(0);r.addEventListener("timeupdate",t);u=setInterval(t,50)})["catch"](function(y){return x(y)})}),new(c("Promise"))(function(w){return setTimeout(w,q)}).then(function(){throw new Error(k)})])["catch"](function(w){v();throw w})}};f.exports=n}),null);
__d("RTCMediaStreamValidator",["Promise","RTCAudioTrackNoiseDetector","RTCVideoTrackActivityDetector"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h="no audio tracks",i="no video tracks",j="too many audio tracks",k="too many video tracks",l="unexpected audio track(s)",m="unexpected video track(s)",n={NO_AUDIO_TRACKS_ERROR:h,NO_VIDEO_TRACKS_ERROR:i,TOO_MANY_AUDIO_TRACKS_ERROR:j,TOO_MANY_VIDEO_TRACKS_ERROR:k,UNEXPECTED_AUDIO_TRACKS_ERROR:l,UNEXPECTED_VIDEO_TRACKS_ERROR:m,validate:function q(r,s){var t=arguments.length<=2||arguments[2]===undefined?{}:arguments[2],u=arguments.length<=3||arguments[3]===undefined?{}:arguments[3],v=t.audio,w=v===undefined?true:v,x=t.video,y=x===undefined?true:x,z=u.audio,A=z===undefined?1e3:z,B=u.video,C=B===undefined?1e3:B;return c("Promise").all([o(r,s,w,A),p(r,s,y,C)]).then(function(){return r})}};function o(q,r,s,t){var u=q.getAudioTracks();if(!r.audio)return u.length>0?c("Promise").reject(new Error(l)):c("Promise").resolve(q);if(u.length<1)return c("Promise").reject(new Error(h));else if(u.length>1)return c("Promise").reject(new Error(j));return!s?c("Promise").resolve(q):c("RTCAudioTrackNoiseDetector").detect(u[0],t).then(function(){return q})}function p(q,r,s,t){var u=q.getVideoTracks();if(!r.video)return u.length>0?c("Promise").reject(new Error(m)):c("Promise").resolve(q);if(u.length<1)return c("Promise").reject(new Error(i));else if(u.length>1)return c("Promise").reject(new Error(k));return!s?c("Promise").resolve(q):c("RTCVideoTrackActivityDetector").detect(u[0],t).then(function(){return q})}f.exports=n}),null);
__d("UserMediaRequestError",[],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,Error);i=h&&h.prototype;function j(m,n,o){i.constructor.call(this,n);this.$UserMediaRequestError1=o;this.$UserMediaRequestError2=n;this.$UserMediaRequestError3=m}j.createFromNative=function(m){var n=m.message,o=m.name,p=m.constraint;return new j(o,n,p||"")};j.prototype.getNativeErrorName=function(){return this.$UserMediaRequestError3};j.prototype.getName=function(){return l(this.$UserMediaRequestError3)};j.prototype.getMessage=function(){return k(this.$UserMediaRequestError2)};j.prototype.isRecoverableError=function(){if(this.$UserMediaRequestError3==="InvalidStateError")return true;return false};j.prototype.getEndCallSubReason=function(){return"MediaFailed: "+this.getName()+", "+this.$UserMediaRequestError1};function k(m){switch(m){case"The operation is insecure.":return"The request is not allowed by the user agent or the platform in the current context.";default:return m}}function l(m){switch(m){case"ConstraintNotSatisfiedError":return"OverconstrainedError";case"NO_DEVICES_FOUND":case"DevicesNotFoundError":return"NotFoundError";case"MediaDeviceFailedDueToShutdown":case"MediaDeviceKillSwitchOn":case"TrackStartError":return"NotReadableError";case"PermissionDeniedError":case"PERMISSION_DENIED":case"PermissionDismissedError":return"NotAllowedError";default:return m}}f.exports=j}),null);
__d("RTCUtils",["invariant","Promise","CurrentUser","FBRTCConstants","FBRTCExperiment","FBRTCUtils","FBRTCStreamTester","RTCAudioTrackNoiseDetector","RTCConfig","RTCMediaDevices","RTCEndCallReason","RTCMediaStreamValidator","RTCScreenSharing","RTCUser","RTCUserMediaConstraints","RTCVideoTrackActivityDetector","URI","UserAgent","UserMediaRequestError","randomInt"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i=c("FBRTCConstants").VideoQuality,j=c("RTCAudioTrackNoiseDetector").DATA_TIMEOUT_ERROR,k=c("RTCVideoTrackActivityDetector").PLAYBACK_TIMEOUT_ERROR,l={generateRandomInt:function m(){return c("randomInt")(0,4294967294)+1},isGroupCall:function m(n){return n.split(":")[0]==="GROUP"},isMessengerCall:function m(n){return n.split(":")[0]==="MESSENGER"},isBonfireCall:function m(n){return!!this.parseBonfireID(n)},parseBonfireID:function m(n){var o=n.match(/BONFIRE:(\d+)/);return o&&o.length>1?o[1]:null},getPeerID:function m(n){if(l.isGroupCall(n))throw new Error("Not a P2P call: "+n);var o=n.split(":"),p=o.slice(1);return p[0]===c("CurrentUser").getID()?p[1]:p[0]},getMessengerCallID:function m(n){if(!l.isMessengerCall(n))throw new Error("Not a Messenger call: "+n);return Number(n.split(":")[1])},createRequestHeader:function m(n,o,p,q){var r={type:n,transactionId:l.generateRandomInt().toString(),retryCount:0,conferenceName:o};if(p)r.serverInfoData=p;if(q)r.extensions={esc_p2p_call_id:q};return r},createResponseHeader:function m(n,o){var p={type:n.type,transactionId:n.transactionId,retryCount:0,conferenceName:n.conferenceName,responseStatusCode:o};if(n.serverInfoData)p.serverInfoData=n.serverInfoData;return p},testUserMediaStream:function m(n){__p&&__p();var o=c("FBRTCExperiment").gen("rtc_www_p2p_v2_get_media_fallback"),p=o.getBool("use_video_tester",false);o.logExposure();if(!p)return c("Promise").resolve(n);var q=new(c("FBRTCStreamTester"))();return new(c("Promise"))(function(r,s){q.addListener("streamWorking",function(){r(n)});q.addListener("streamBroken",function(){s(new(c("UserMediaRequestError"))("StreamFailedToStart","",""))});q.testStream(n)})},maybeRemoveVideoConstraint:function m(n){return c("RTCMediaDevices").enumerateDevices().then(function(o){if(o.some(function(p){return p.kind==="videoinput"}))return n;return babelHelpers["extends"]({},n,{video:false})})["catch"](function(){return c("Promise").resolve(n)})},getUserMediaWithAudioFallback:function m(n,o){return l.maybeRemoveVideoConstraint(n).then(function(n){return l.getUserMedia(n,o)}).then(l.testUserMediaStream)["catch"](function(p){if(n.video&&typeof p.getName==="function"&&(p.getName()==="NotFoundError"||p.getName()==="StreamFailedToStart"||p.getName()==="OverconstrainedError"))return l.getUserMedia({video:false,audio:n.audio});throw p})},getUserMedia:function m(n){__p&&__p();var o=arguments.length<=1||arguments[1]===undefined?false:arguments[1],p=navigator,q=p.mediaDevices;if(typeof n.video==="object"&&n.video.mediaSource)return c("RTCScreenSharing").getUserMedia(n);var r=c("FBRTCExperiment").gen("rtc_www_use_optional_constraints_only"),s=false;if(o&&n.video){s=r.getBool("optional_only",false);r.logExposure()}var t=l._parseConstraints(n,!!s);return new(c("Promise"))(function(u,v){__p&&__p();if(q&&typeof q.getUserMedia==="function")u(q.getUserMedia(t));else if(navigator.getUserMedia)navigator.getUserMedia(t,u,v);else if(navigator.webkitGetUserMedia)navigator.webkitGetUserMedia(t,u,v);else if(navigator.mozGetUserMedia)navigator.mozGetUserMedia(t,u,v);else if(navigator.msGetUserMedia)navigator.msGetUserMedia(t,u,v);else v("getUserMedia not supported")})["catch"](function(u){throw c("UserMediaRequestError").createFromNative(u)})},_parseConstraints:function m(n,o){if(c("UserAgent").isBrowser("Chrome")||c("UserAgent").isBrowser("Opera")){var p=n.audio,q=n.video,r={};if(p!=undefined)r.audio=c("RTCUserMediaConstraints").chromify(p);if(q!=undefined)r.video=c("RTCUserMediaConstraints").chromify(q,o);return r}return n},getUserMediaWithValidation:function m(n){__p&&__p();var o=arguments.length<=1||arguments[1]===undefined?{audio:true,video:true}:arguments[1],p=arguments.length<=2||arguments[2]===undefined?5:arguments[2],q=arguments.length<=3||arguments[3]===undefined?{audio:1e3,video:1e3}:arguments[3];return new(c("Promise"))(function(r,s){__p&&__p();var t=function t(u){__p&&__p();l.getUserMedia(n).then(function(v){return c("RTCMediaStreamValidator").validate(v,n,o,q).then(function(v){return r({stream:v})})["catch"](function(w){if(w.message===j||w.message===k)r({stream:v,err:w});else{l.stopMediaStream(v);throw w}})},s)["catch"](function(v){if(u>0)t(u-1);else s(v)})};t(p)})},initLocalStream:function m(n){var o=n.hasVideo,p=n.optionalConstraintsOnly;return l.getUserMedia({audio:c("RTCUserMediaConstraints").audio(),video:c("RTCUserMediaConstraints").video(o?i.HD_VIDEO:i.NO_VIDEO)},!!p)},initLocalScreenStream:function m(){var n=arguments.length<=0||arguments[0]===undefined?"screen":arguments[0];return l.getUserMedia({audio:false,video:babelHelpers["extends"]({},c("RTCConfig").CollaborationCallQuality.screen_v2||c("RTCConfig").CollaborationCallQuality.screen,{mediaSource:n})})},isFullScreen:function m(){return!!(document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||document.msFullscreenElement)},requestFullScreen:function m(){var n=arguments.length<=0||arguments[0]===undefined?document.documentElement:arguments[0];if(typeof n.requestFullscreen==="function")n.requestFullscreen();else if(typeof n.msRequestFullscreen==="function")n.msRequestFullscreen();else if(typeof n.mozRequestFullScreen==="function")n.mozRequestFullScreen();else if(typeof n.webkitRequestFullscreen==="function")n.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT)},exitFullScreen:function m(){if(typeof document.exitFullscreen==="function")document.exitFullscreen();else if(typeof document.msExitFullscreen==="function")document.msExitFullscreen();else if(typeof document.mozCancelFullScreen==="function")document.mozCancelFullScreen();else if(typeof document.webkitExitFullscreen==="function")document.webkitExitFullscreen()},toggleFullScreen:function m(){if(l.isFullScreen())l.exitFullScreen();else l.requestFullScreen()},endCallReasonFromHangupReason:function m(n){return c("RTCEndCallReason").fromHangupReason(n).getReasonID()},endCallReasonFromDismissRequest:function m(n){return c("RTCEndCallReason").fromDismissRequest(n).getReasonID()},endCallReasonFromResponseStatusCode:function m(n){return c("RTCEndCallReason").fromResponseStatusCode(n).getReasonID()},stopMediaStream:function m(n){__p&&__p();if(!n.active&&"active"in n)return;for(var o=n.getTracks(),p=Array.isArray(o),q=0,o=p?o:o[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var r;if(p){if(q>=o.length)break;r=o[q++]}else{q=o.next();if(q.done)break;r=q.value}var s=r;if(s.readyState!=="ended")s.stop()}},transferAudioTracks:function m(n,o){__p&&__p();for(var p=o.getAudioTracks(),q=Array.isArray(p),r=0,p=q?p:p[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var s;if(q){if(r>=p.length)break;s=p[r++]}else{r=p.next();if(r.done)break;s=r.value}var t=s;n.addTrack(t);o.removeTrack(t)}},payloadParticipantsToRTCUsers:function m(n){return n.map(function(o){var p=o.big_image_src||o.image_src;o.fbid||h(0);return new(c("RTCUser"))({FBID:o.fbid,profileUrl:new(c("URI"))(o.href),profilePictureUrl:p,isMessengerUser:!!o.is_messenger_user,isPartiesUser:!!o.is_parties_user,userName:o.name,userShortName:o.short_name,vanity:o.vanity||""})})},getStreamVideoResolution:function m(n){__p&&__p();return new(c("Promise"))(function(o,p){__p&&__p();var q=document.createElement("video");c("FBRTCUtils").attachMediaStream(q,n);var r=function r(){q.removeEventListener("loadedmetadata",s);q.removeEventListener("error",t);c("FBRTCUtils").attachMediaStream(q,null)},s=function s(){o({height:q.videoHeight,width:q.videoWidth});r()},t=function t(){p(q.error);r()};q.addEventListener("loadedmetadata",s);q.addEventListener("error",t)})},isScreenSharingSupported:function m(){return c("UserAgent").isBrowser("Chrome")}};f.exports=l}),null);
__d("WorkplaceChatHelper",["ChannelConstants","PresenceStatus","gkx"],(function a(b,c,d,e,f,g){"use strict";var h={isDesktopChatApp:function i(){return window.workchat!==undefined},getAppID:function i(){return window.workchat.appId},getScreenSharingSourceID:function i(){return window.workchat.getScreenSharingSourceID()},stopScreenSharing:function i(){return window.workchat.stopScreenSharing()},suppressChatIfActiveOnDesktop:function i(){return(c("PresenceStatus").getViewerInitialCapabilities()&c("ChannelConstants").CAPABILITY_ACTIVE_ON_DESKTOP_APP)==c("ChannelConstants").CAPABILITY_ACTIVE_ON_DESKTOP_APP&&c("gkx")("AT4ZMAXkzCcX4p9DjSWk5wvjd_wjBUdDPViibiBIfjvUyD6wX_fK23ETuzkop1uX0uOJihKtSxVg3O_V4WawyBhaw_xvwERDuCKoQu725uXIow")}};f.exports=h}),null);
__d("RTCScreenSharing",["Promise","CollabRTCChromeScreenSharing","RTCUserMediaConstraints","RTCUtils","UserAgent","WorkplaceChatHelper"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h="SCREEN_SHARING_NOT_SUPPORTED",i="UNEXPECTED_ERROR",j={SCREEN_SHARING_NOT_SUPPORTED:h,getUserMedia:function k(l){__p&&__p();if(c("UserAgent").isBrowser("Chrome"))return(c("WorkplaceChatHelper").isDesktopChatApp()?c("WorkplaceChatHelper").getScreenSharingSourceID():c("CollabRTCChromeScreenSharing").getSourceID()).then(function(m){return c("RTCUtils").getUserMedia(c("RTCUserMediaConstraints").chromeMediaSource(l,m))}).then(function(m){__p&&__p();for(var n=m.getTracks(),o=Array.isArray(n),p=0,n=o?n:n[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var q;if(o){if(p>=n.length)break;q=n[p++]}else{p=n.next();if(p.done)break;q=p.value}var r=q;r.addEventListener("ended",function(s){return setTimeout(function(){if(!m.active)j.stop()})})}return m});return c("Promise").reject(new Error(h))},stop:function k(){if(c("UserAgent").isBrowser("Chrome"))return c("WorkplaceChatHelper").isDesktopChatApp()?c("WorkplaceChatHelper").stopScreenSharing():c("CollabRTCChromeScreenSharing").stop();return c("Promise").reject(new Error(i))}};f.exports=j}),null);
__d("AddressTypeaheadCaller",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({LOCATION_TYPEAHEAD_GRAPH_API:"location_typeahead_graph_api",CIVIC_CHECKUP:"civic_checkup",EARLY_VOTING:"early_voting",VOTER_INFO:"voter_info",ELECTION_RESULT:"election_result",MARKETPLACE:"marketplace",MOBILE_ADS_MANAGER:"mobile_ads_manager",MESSENGER_TRANSPORTATION_ANDROID:"messenger_transportation_android",MESSENGER_TRANSPORTATION_IOS:"messenger_transportation_ios",ADS_TARGETTING:"ads_targetting",EVENTS_CREATION:"events_creation",INTERN_EVENT:"intern_event_offsite_location",GRAPHQL:"graphql",WWW_GUI:"www_gui",ADS_GEO_LOCATION_SEARCH:"ads_geolocation_search",EVALUATION:"evaluation",CONSTITUENT_TITLE_UPSELL:"constituent_title_upsell",UNKNOWN:"unknown",JOB_SEARCH:"job_search",ANDROID_PAGES:"android_pages",IOS_PAGES:"ios_pages",SHUTTLE_MAP:"shuttle_map",SOCIAL_BALLOT:"social_ballot",OMNIM_MINIAPP_FOOD_ORDERING:"omnim_miniapp_food_ordering",M_PAGE_CREATION:"m_page_creation",PAGE_EDIT:"page_edit",PAGES_WEB:"pages_web",RIDE_BOT_SEARCH:"ride_bot_search",PPD_TOOL:"ppd_tool",LIGHTWEIGHT_EVENTS_CREATION:"lightweight_events_creation",PAGES_PLATFORM:"pages_platform",TOWNHALL:"townhall",RIDE_LOCATION_SEARCH:"ride_location_search",MESSENGER_LIVE_LOCATION:"messenger_live_location",FOOD_DRINK_BOOKMARK:"food_drink_bookmark",SERVICES_LEAD_GEN_SURVEY:"services_lead_gen_survey",SOCAL_APP:"socal_app",RECRUITING_EVENT:"recruiting_event",INSTANT_EXPERIENCES_NATIVE_FORM:"instant_experiences_native_form",BLOOD_DONATIONS:"blood_donations"})}),null);
__d("AddressTypeaheadDisplayOrder",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({PLACE_FIRST:"place_first",ADDRESS_FIRST:"address_first",INTERLEAVE:"interleave"})}),null);
__d("AddressTypeaheadIntegration",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({SIMPLE:"simple",DISTANCE_ONLY:"distance_only",STRING_MATCH:"string_match",TYPE_MATCH_CHECK:"type_match_check"})}),null);
__d("AddressTypeaheadProvider",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({FACEBOOK:"facebook",GOOGLE:"google",HERE_WEB:"here_web",HERE_THRIFT:"here_thrift",DEFAULT_PROVIDER:"default_provider"})}),null);
__d("AddressTypeaheadType",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({STREET_TYPEAHEAD:"street_typeahead",PLACE_TYPEAHEAD:"place_typeahead",CITY_TYPEAHEAD:"city_typeahead",STREET_PLACE_TYPEAHEAD:"street_place_typeahead"})}),null);
__d("AddressTypeaheadSearchSourceConfig",["AddressTypeaheadCaller","AddressTypeaheadDisplayOrder","AddressTypeaheadIntegration","AddressTypeaheadProvider","AddressTypeaheadType","ImmutableObject"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i,j=10,k=50,l=50;h=babelHelpers.inherits(m,c("ImmutableObject"));i=h&&h.prototype;function m(){var n=arguments.length<=0||arguments[0]===undefined?null:arguments[0],o=arguments.length<=1||arguments[1]===undefined?null:arguments[1],p=arguments.length<=2||arguments[2]===undefined?c("AddressTypeaheadProvider").HERE_THRIFT:arguments[2],q=arguments.length<=3||arguments[3]===undefined?c("AddressTypeaheadType").STREET_PLACE_TYPEAHEAD:arguments[3],r=arguments.length<=4||arguments[4]===undefined?c("AddressTypeaheadIntegration").STRING_MATCH:arguments[4],s=arguments.length<=5||arguments[5]===undefined?c("AddressTypeaheadDisplayOrder").INTERLEAVE:arguments[5],t=arguments.length<=6||arguments[6]===undefined?j:arguments[6],u=arguments.length<=7||arguments[7]===undefined?c("AddressTypeaheadCaller").GRAPHQL:arguments[7],v=arguments.length<=8||arguments[8]===undefined?null:arguments[8],w=arguments.length<=9||arguments[9]===undefined?null:arguments[9],x=arguments.length<=10||arguments[10]===undefined?null:arguments[10],y=arguments.length<=11||arguments[11]===undefined?false:arguments[11],z=arguments.length<=12||arguments[12]===undefined?k:arguments[12],A=arguments.length<=13||arguments[13]===undefined?l:arguments[13];i.constructor.call(this,{latitude:n,longitude:o,provider:p,search_type:q,integration_strategy:r,display_order:s,num_results:t,caller:u,country_filter:v,page_category:w,radius_in_meters:x,geocode_fallback:y,photo_width:z,photo_height:A})}m.prototype.equals=function(n){return this===n||this.latitude===n.latitude&&this.longitude===n.longitude&&this.provider===n.provider&&this.search_type===n.search_type&&this.integration_strategy===n.integration_strategy&&this.display_order===n.display_order&&this.num_results===n.num_results&&this.caller===n.caller&&(this.country_filter===n.country_filter||!!this.country_filter&&!!n.country_filter&&this.country_filter.toString()===n.country_filter.toString())&&(this.page_category===n.page_category||!!this.page_category&&!!n.page_category&&this.page_category.toString()===n.page_category.toString())&&this.radius_in_meters===n.radius_in_meters&&this.geocode_fallback===n.geocode_fallback&&this.photo_width===n.photo_width&&this.photo_height===n.photo_height};f.exports=m}),null);
__d("AddressTypeaheadWebGraphQLQuery",["WebGraphQLQueryBase"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();f.exports=function(){__p&&__p();var h,i;h=babelHelpers.inherits(j,c("WebGraphQLQueryBase"));i=h&&h.prototype;j.__getDocID=function(){"use strict";return"1580420281983334"};j.getQueryID=function(){"use strict";return"1536358613071354"};function j(){"use strict";h.apply(this,arguments)}return j}()}),null);
__d("AddressTypeaheadGraphQLSearchSource",["AbstractAsyncSearchSource","AddressTypeaheadSearchSourceConfig","AddressTypeaheadWebGraphQLQuery","AsyncRequest","SearchableEntry"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i,j="/images/tiles/typeahead_default.png";h=babelHelpers.inherits(k,c("AbstractAsyncSearchSource"));i=h&&h.prototype;function k(p,q){i.constructor.call(this,{bootstrapRequests:[{createQuery:function r(s){return m(s,p)}}],queryRequests:[{createQuery:function r(s){return m(s,p)}}],packageFn:q||n,getAllForEmptyQuery:true},l,o)}function l(p,q,r,s){var t=q.createQuery(p,q);new(c("AsyncRequest"))(t).setHandler(function(u){return r(u.payload[p.value||""])}).setErrorHandler(s).send()}function m(p,q){return c("AddressTypeaheadWebGraphQLQuery").getLegacyURI({query_params:{query:p.value,viewer_coordinates:{latitude:q.latitude||undefined,longitude:q.longitude||undefined},provider:q.provider,search_type:q.search_type,integration_strategy:q.integration_strategy,result_ordering:q.display_order,caller:q.caller,country_filter:q.country_filter||undefined,page_category:q.page_category||undefined,radius:q.radius_in_meters||undefined,geocode_fallback:q.geocode_fallback||false},max_results:q.num_results,photo_width:q.photo_width,photo_height:q.photo_height})}function n(p){var q=p&&p.street_results&&p.street_results.edges;if(!q)return[];return q.map(function(r,s){var t=r.node;return new(c("SearchableEntry"))({auxiliaryData:{latitude:t.location.latitude,longitude:t.location.longitude,locationID:t.page?t.page.id:t.city?t.city.id:0,resultType:t.page?"place":"street",freeformEntry:false,full_address:t.single_line_address,multi_line_address:t.multi_line_address,city_name:t.city?t.city.name:null,city_id:t.city?t.city.id:null},photo:t.page&&t.page.page_logo?t.page.page_logo.uri:j,title:t.title,subtitle:t.subtitle,uniqueID:t.place_name+"_"+t.single_line_address,order:s})})}function o(p,q){return q(p)}f.exports=k}),null);
__d("AudioContextSingleton",[],(function a(b,c,d,e,f,g){var h=window.AudioContext||window.webkitAudioContext,i={get:function j(){if(!this._audioContext)this._audioContext=new h();return this._audioContext}};f.exports=i}),null);
__d("AddressTypeaheadPageCategory",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({CITY:"city",NEIGHBORHOOD:"neighborhood",POSTAL_CODE:"postal_code"})}),null);
__d("XBizGrowthPageController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/business/a/{*subpath}/",{subpath:{type:"String",required:true}})}),null);